function storeNameCollectionController(){}function storeCategoryCollectionController(e){console.log(e.absUrl())}function storeListController(e,t,o,r,n){function s(e){var t="store/singleStore/"+e._id+"/"+e.myslug;o.changeBrowserURLMethod(t)}function i(){a.pageNo=a.pageNo+1;var o=t.location||"hyderabad",s="";if(-1!=r.absUrl().indexOf("/category/")){var i=t.category;s=n.baseUrl+"store/storesCollection/category/"+i+"/"+o+"/"+a.pageNo}else if(-1!=r.absUrl().indexOf("/storeName/")){var l=t.storeName;s=n.baseUrl+"store/storesCollection/storeName/"+l+"/"+o+"/"+a.pageNo}else s=n.baseUrl+"store/storesCollection/stores/"+o+"/"+a.pageNo;e.getService(s).then(function(e){for(var t=e.data.docs.length-1;t>=0;t--)a.storesList.push(e.data.docs[t])},function(e){console.log(e)})}function l(){a.getStoresCollection()}var a=this;a.pageNo=0,a.storesList=[],a.getSingleStore=s,a.getStoresCollection=i,l()}function storeController(e,t){var o=this;console.log("store controller"),o.address={},o.SendData=function(){data={},data.name=o.name,data.city=o.address.city,data.address=o.address,data.category=o.categoryString.split(","),console.log(data.category);var r={headers:{"Content-Type":"application/json"}};t.post(e.baseUrl+"store/store",data,r).then(function(e){console.log(e)},function(e){console.log(e)})}}function AuthController(e,t,o,r,n,s){function i(){t.changeBrowserURLMethod("/")}function l(){t.changeBrowserURLMethod("/login")}function a(e){o.authenticate(e).then(function(e){s.setUser(),n.reload()})}function c(){o.logout(),s.removeUser(),i()}var u=this;u.toHomePage=i,u.authenticate=a,u.authLogout=c,u.loginPage=l,u.isAuth=o.isAuthenticated()}function CategoryListController(e,t,o,r,n,s,i,l){function a(){g.getCategories()}function c(e){var t=s.getUserLocation(),o=e+"-stores-in-"+t,r="/store/storesCollection/category/"+e+"/"+t+"/"+o;i.changeBrowserURLMethod(r)}function u(){g.pageNo=g.pageNo+1;var e=l.baseUrl+"store/categories/"+g.pageNo;t.get(e).then(function(e){angular.forEach(e.data.docs,function(e){g.cateList=r.getUniqueCopyFunction(e.category,g.cateList)})},function(e){})}var g=this;g.cateList=[],g.categLoadMore=!1,g.pageNo=0,g.getCategories=u,g.categoryLinkClicked=c,a()}function homeController(e,t,o,r){}function LeftCtrl(e,t,o){this.close=function(){t("left").close().then(function(){o.debug("close RIGHT is done")})}}function SearchBoxController(e,t,o,r,n,s,i){function l(e){var t=e.userSearchString.split("#&#")[1],o=e.userSearchString.split("#&#")[0],n=e.userSearchString.split("#&#")[2];u.slug=o+"-"+t.split("-")[0]+"s-in-"+n,"store"==t?u.url="/store/storesCollection/storeName/":"store-category"==t?u.url="/store/storesCollection/category/":"product"==t?u.url="/product/singleProductName/":"product-category"==t?u.url="/product/productsCollectionCategory/":"product-subcategory"==t&&(u.url="/product/productsCollectionSubCategory/"),r.changeBrowserURLMethod(u.url+o+"/"+n+"/"+u.slug)}function a(e){i.setUserLocation(e),o.getSearches(e).then(function(e){u.userSearches=[];for(var t=e.data.length-1;t>=0;t--)u.userSearches.push(e.data[t]);console.log(u.userSearches)},function(e){console.log(e)})}function c(){t.getCities().then(function(e){console.log(e),u.cities=[],u.cities2=[],u.cities2=s.getArrayFunction(e.data,"location"),u.cities=n.getUniqueCopyFunction(u.cities2,u.cities),console.log(u.cities)},function(e){u.cities=e})}var u=this;c(),u.userSearches=[],u.selectedItemChange=a,u.userSearchItemChange=l}angular.module("myApp",["ngRoute","ngCookies","ngMessages","satellizer","authModApp","app.common","app.home","app.store","ngMaterial","app.review"]).config(["$routeProvider","$mdThemingProvider",function(e,t){t.theme("default").primaryPalette("amber").accentPalette("orange").warnPalette("blue"),e.otherwise({redirectTo:"/home"})}]),angular.module("app.store",[]).config(["$routeProvider",function(e){e.when("/store",{templateUrl:"app/store/storePost.html",controller:"StoreController",controllerAs:"sm"}).when("/store/storesCollection/storeName/:storeName/:location/:slug?",{templateUrl:"app/store/storesNameCollection.html",controller:"StoreNameCollectionController",controllerAs:"sncc"}).when("/store/storesCollection/category/:category/:location/:slug?",{templateUrl:"app/store/storesCategoryCollection.html",controller:"StoreCategoryCollectionController",controllerAs:"sccc"}).when("/store/singleStore/:storeId/:myslug?/",{templateUrl:"app/store/singleStore.html",controller:"SingleStoreController",controllerAs:"ssc"})}]),function(e){"use strict";function t(e,t,o){e.when("/signup",{templateUrl:"app/authentication/views/register.html",controller:"RegisterCtrl",controllerAs:"rcl"}).when("/logout",{controller:"LogoutCtrl"}).when("/login",{templateUrl:"app/authentication/views/login.html",controller:"LoginController",controllerAs:"login"}),o.loginUrl="http://localhost:3000/authenticate/login",o.signupUrl="http://localhost:3000/authenticate/signup",o.facebook({clientId:"1068203956594250",url:"http://localhost:3000/authenticate/auth/facebook",redirectUri:"http://localhost:3000/"})}e.module("authModApp",["ngCookies","ngRoute","satellizer"]).config(["$routeProvider","$httpProvider","$authProvider",t])}(window.angular),function(e){"use strict";e.module("app.common",[])}(window.angular),function(e){function t(e){e.when("/home",{templateUrl:"app/home/homePage.html",controller:"HomeController",controllerAs:"hm"})}e.module("app.home",[]).config(["$routeProvider",t])}(window.angular),function(e){"use strict";e.module("app.review",[])}(window.angular),angular.module("app.store",[]).config(["$routeProvider",function(e){e.when("/store",{templateUrl:"app/store/storePost.html",controller:"StoreController",controllerAs:"sm"}).when("/store/storesCollection/storeName/:storeName/:location/:slug?",{templateUrl:"app/store/storesNameCollection.html",controller:"StoreNameCollectionController",controllerAs:"sncc"}).when("/store/storesCollection/category/:category/:location/:slug?",{templateUrl:"app/store/storesCategoryCollection.html",controller:"StoreCategoryCollectionController",controllerAs:"sccc"}).when("/store/singleStore/:storeId/:myslug?/",{templateUrl:"app/store/singleStore.html",controller:"SingleStoreController",controllerAs:"ssc"})}]),function(e){"use strict";e.module("app.common",[])}(window.angular),function(e){"use strict";function t(e,t){this.getCities=function(){var o=this;return o.cityData=void 0,o.cityData=e.get(t.baseUrl+"store/cities"),o.cityData}}function o(e,t){this.getSearches=function(o){console.log("inside http"),console.log(o);var r=this;r.searchesData=void 0;var n=e.baseUrl+"search/searches/"+o;return r.searchesData=t.get(n),r.searchesData}}function r(e){this.getService=function(t){return e.get(t)}}function n(){this.sortByKey=function(e,t){return e.sort(function(e,o){var r=e[t],n=o[t];return n>r?-1:r>n?1:0})}}function s(e){this.changeBrowserURLMethod=function(t){e.path(t)}}function i(){this.getArrayFunction=function(e,t){for(var o=[],r=e.length-1;r>=0;r--)o.push(e[r][t]);return o}}function l(){this.getUniqueCopyFunction=function(t,o){return e.forEach(t,function(e){-1==o.indexOf(e)&&o.push(e)}),o}}function a(){function e(e){o=e}function t(){return o}var o="";this.setUserLocation=e,this.getUserLocation=t}function c(){this.baseUrl="http://localhost:3000/",this.getStoresWithCatgeoryLocation=this.baseUrl+"store/storesCollection/category/",this.getStoresWithNameLocation=this.baseUrl+"store/storesCollection/storeName/",this.getSingleStoreWithId=this.baseUrl+"store/singleStore/",this.getProductsWithCatgeoryLocation=this.baseUrl+"product/productsCollection/category/",this.getProductsWithSubCatgeoryLocation=this.baseUrl+"product/productsCollection/subCategory/",this.getProductsWithNameLocation=this.baseUrl+"product/productsCollection/productName/",this.getProductsWithStoreId=this.baseUrl+"product/productsCollection/store/",this.getSingleProductWithId=this.baseUrl+"product/singleProduct/",this.getCategoriesWithLocation=this.baseUrl+"categories/location"}function u(){this.scrollTo=function(e){function t(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function o(e){for(var t=document.getElementById(e),o=t.offsetTop,r=t;r.offsetParent&&r.offsetParent!=document.body;)r=r.offsetParent,o+=r.offsetTop;return o}var r=t(),n=o(e),s=n>r?n-r:r-n;if(100>s)return void scrollTo(0,n);var i=Math.round(s/100);i>=20&&(i=20);var l=Math.round(s/25),a=n>r?r+l:r-l,c=0;if(n>r)for(var u=r;n>u;u+=l)setTimeout("window.scrollTo(0, "+a+")",c*i),a+=l,a>n&&(a=n),c++;else for(var u=r;u>n;u-=l)setTimeout("window.scrollTo(0, "+a+")",c*i),a-=l,n>a&&(a=n),c++}}e.module("app.common").service("citiesService",["$http","baseUrlService",t]).service("getCategoryService",[function(){}]).service("searchService",["baseUrlService","$http",o]).service("httpService",["$http",r]).service("sortService",[n]).service("changeBrowserURL",["$location",s]).service("arrayObjectMapper",[i]).service("arrayUniqueCopy",[l]).service("userLocationService",[a]).service("anchorSmoothScroll",[u]).service("baseUrlService",[c])}(window.angular),angular.module("app.store").controller("StoreController",["baseUrlService","$http",storeController]).controller("StoreListController",["httpService","$routeParams","changeBrowserURL","$location","baseUrlService",storeListController]).controller("StoreNameCollectionController",[storeNameCollectionController]).controller("StoreCategoryCollectionController",["$location",storeCategoryCollectionController]),function(e){function t(e){e.when("/home",{templateUrl:"app/home/homePage.html",controller:"HomeController",controllerAs:"hm"})}e.module("app.home",[]).config(["$routeProvider",t])}(window.angular),angular.module("app.home").controller("AuthController",["$scope","changeBrowserURL","$auth","$window","$route","userData",AuthController]),function(e){function t(t,o,r,n,s,i,l,a,c){function u(e){return function(){a(e).toggle().then(function(){c.debug("toggle "+e+" is done")})}}function g(){r.changeBrowserURLMethod("/")}function h(e){n.authenticate(e),g()}function d(){n.logout(),g()}function p(o){(i("sm")||i("xs"))&&t.customFullscreen;s.show({controller:"ModalFormLoginController",templateUrl:"app/home/views/modalFormLogin.html",parent:e.element(document.body),targetEvent:o,clickOutsideToClose:!0,fullscreen:f.customFullscreen}).then(function(e){t.status='You said the information was "'+e+'".'},function(){t.status="You cancelled the dialog."}),t.$watch(function(){return i("md")||i("xl")},function(e){f.customFullscreen=e===!0})}var f=this;f.toHomePage=g,f.authenticate=h,f.authLogout=d,f.showAdvanced=p,f.customFullscreen=void 0,f.isAuth=n.isAuthenticated(),f.isOpenLeft=function(){return a("left").isOpen()},f.toggleLeft=u("left")}e.module("app.home").controller("HeaderController",["$scope","userData","changeBrowserURL","$auth","$mdDialog","$mdMedia","$timeout","$mdSidenav","$log",t])}(window.angular),angular.module("app.home").controller("HomeController",["$scope","citiesService","searchService","changeBrowserURL",homeController]).controller("CategoryListController",["$scope","$http","getCategoryService","arrayUniqueCopy","arrayObjectMapper","userLocationService","changeBrowserURL","baseUrlService",CategoryListController]),angular.module("app.home").controller("HomeLeftController",["$timeout","$mdSidenav","$log",LeftCtrl]),angular.module("app.home").controller("SearchBoxController",["$scope","citiesService","searchService","changeBrowserURL","arrayUniqueCopy","arrayObjectMapper","userLocationService",SearchBoxController]),function(e){"use strict";e.module("app.review",[])}(window.angular),function(e){"use strict";function t(e,t,o){e.when("/signup",{templateUrl:"app/authentication/views/register.html",controller:"RegisterCtrl",controllerAs:"rcl"}).when("/logout",{controller:"LogoutCtrl"}).when("/login",{templateUrl:"app/authentication/views/login.html",controller:"LoginController",controllerAs:"login"}),o.loginUrl="http://localhost:3000/authenticate/login",o.signupUrl="http://localhost:3000/authenticate/signup",o.facebook({clientId:"1068203956594250",url:"http://localhost:3000/authenticate/auth/facebook",redirectUri:"http://localhost:3000/"})}e.module("authModApp",["ngCookies","ngRoute","satellizer"]).config(["$routeProvider","$httpProvider","$authProvider",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(){e.path("/signup")}function s(){t.login(i.user).then(function(t){e.path("/"),o.setUser(t.data.user),console.log(o.getUser())},function(e){console.log(e)})}var i=this;i.user={},i.submitLogin=s,i.signUp=n,console.log("form thr ontdg"),i.authenticate=function(o){t.authenticate(o),e.path("/")}}e.module("authModApp").controller("LoginController",["$location","$auth","userData","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(){o.signup(s.user).then(function(e){console.log(e),r.path("/"),o.setToken(e.data.token),t.setUser(e.data.user),console.log(t.getUser())},function(e){console.log(e)})}var s=this;s.user={},s.formSubmit=n}e.module("authModApp").controller("RegisterCtrl",["$scope","userData","$auth","$location",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n){var s=e.localStorage,i={},l={setUser:function(e){if(console.log("called me yo"),e)s.setItem("user",JSON.stringify(e));else{var t=o.getPayload().sub;t&&r.get(n.baseUrl+"authenticate/user/"+t).then(function(e){console.log("without param"),l.isUserExists()&&s.removeItem("user"),s.setItem("user",JSON.stringify(e.data.user))},function(e){console.log(e)})}console.log(s.getItem("user"))},getUser:function(){return JSON.parse(s.getItem("user"))},removeUser:function(){i=null,s.removeItem("user")},isUserExists:function(){return l.getUser()?!0:!1}};return l}e.module("authModApp").factory("userData",["$window","$route","$auth","$http","baseUrlService",t])}(window.angular),function(e){"use strict";e.module("authModApp").directive("sameAs",function(){return{require:"ngModel",restrict:"EA",link:function(e,t,o,r){function n(t){var n=t===e.$eval(o.sameAs);return r.$setValidity("equal",n),n?t:void 0}console.log(e.$eval(o.sameAs)),r.$parsers.push(n),r.$formatters.push(n),e.$watch(o.sameAs,function(){r.$setViewValue(r.$viewValue)})}}})}(window.angular),function(e){"use strict";function t(e,t,o,r,n){function s(e){var t=6-e.currentTarget.attributes.value.nodeValue;l.review.rating=t}function i(){n.submitStoreReview(l.review).then(function(e){r.setUser(),o.reload()},function(e){})}var l=this;l.review={},l.user={},l.review.storeId=t.storeId,l.ratingClick=s,r.getUser()?(l.review.userId=r.getUser()._id,l.user.picture=r.getUser().picture,l.user.displayName=r.getUser().displayName):l.review.userId=e.getPayload().sub,l.submitReview=i}e.module("app.review").controller("ReviewSubmitController",["$auth","$routeParams","$route","userData","reviewService",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(t){return e.post(o.baseUrl+"review/reviews/store/"+t.storeId,t)}function n(){var r=t.storeId;return e.get(o.baseUrl+"review/reviews/store/"+r)}var s=this;s.submitStoreReview=r,s.getStoreReviews=n}e.module("app.review").service("reviewService",["$http","$routeParams","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,s,i,l){function a(e){o.hash(e),s.scrollTo(e)}var c=this;if(c.storeData={},c.flowToId=a,c.authCheck=t.isAuthenticated(),l.getStore(n.storeId).then(function(e){console.log("*******stores*****"),console.log(e),i.setStore(e.data),c.storeData=e.data,console.log(c.storeData)}),void 0!==o.search().flowto){var u=o.search().flowto;a(u)}}e.module("app.store").controller("SingleStoreController",["$scope","$auth","$location","$anchorScroll","$routeParams","anchorSmoothScroll","storeData","getSingleStore",t])}(window.angular),function(e){function t(e){console.log(e.absUrl())}e.module("app.store").controller("StoreCategoryCollectionController",["$location",t])}(window.angular),function(e){function t(e,t,o,r,n){function s(e){var t="store/singleStore/"+e._id+"/"+e.myslug;o.changeBrowserURLMethod(t)}function i(){a.pageNo=a.pageNo+1;var o=t.location||"hyderabad",s="";if(-1!=r.absUrl().indexOf("/category/")){var i=t.category;s=n.baseUrl+"store/storesCollection/category/"+i+"/"+o+"/"+a.pageNo}else if(-1!=r.absUrl().indexOf("/storeName/")){var l=t.storeName;s=n.baseUrl+"store/storesCollection/storeName/"+l+"/"+o+"/"+a.pageNo}else s=n.baseUrl+"store/storesCollection/stores/"+o+"/"+a.pageNo;e.getService(s).then(function(e){for(var t=e.data.docs.length-1;t>=0;t--)a.storesList.push(e.data.docs[t])},function(e){console.log(e)})}function l(){a.getStoresCollection()}var a=this;a.pageNo=0,a.storesList=[],a.getSingleStore=s,a.getStoresCollection=i,l()}e.module("app.store").controller("StoreListController",["httpService","$routeParams","changeBrowserURL","$location","baseUrlService",t])}(window.angular),function(e){function t(){}e.module("app.store").controller("StoreController",storeController).controller("StoreListController",["httpService","$routeParams","changeBrowserURL","$location",storeListController]).controller("StoreNameCollectionController",[t]).controller("StoreCategoryCollectionController",["$location",storeCategoryCollectionController])}(window.angular),function(e){"use strict";function t(e,t,o){function r(){i.getStoreReviews()}function n(){o.getStoreReviews().then(function(e){i.reviewList=e.data},function(e){})}function s(e){for(var t=parseInt(e.rating),o=[],r=0;t>r;r++)o.push(r);return o}var i=this;i.activate=r,i.getStoreReviews=n,i.getRating=s,i.activate()}e.module("app.store").controller("StoreReviewListController",["$scope","$routeParams","reviewService",t])}(window.angular),function(e){function t(e,t,o,r,n,s,i){function l(e){console.log("**********visit function called****************");for(var t in e.visits){var o=e.visits[t];console.log(e.visits[t]),-1!=n.getUser().visits.indexOf(o)&&(u.userStoreVisitId=o,u.visitCheck=!0)}}function a(){console.log("inside togle"),console.log(u.visitCheck),u.visitCheck?(u.visit.userId=n.getUser()?n.getUser()._id:o.getPayload().sub,i.submitVisit(u.visit).then(function(e){console.log(e),n.setUser()},function(e){console.log(e)})):(console.log("inside delte visit"),i.deleteVisit(u.userStoreVisitId).then(function(e){console.log(e),n.setUser()},function(e){console.log(e)}))}function c(){n.setUser(),l(s.getStore())}var u=this;u.visit={},u.visitCheck=!1,console.log("checking store data inside controller"),console.log(n.getUser()),u.toggleVisitCheck=a,u.visit.storeId=r.storeId,u.userStoreVisited=l,c()}e.module("app.store").controller("UserStoreVisitController",["$scope","$window","$auth","$routeParams","userData","storeData","userVisitService",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(t){return e.get(o.baseUrl+"store/singleStore/"+t)}this.getStore=r}e.module("app.store").service("getSingleStore",["$http","storeData","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e){var t=e.localStorage,o={setStore:function(e){console.log("****from the storeData factory*****"),console.log(e),t.setItem("store",JSON.stringify(e))},getStore:function(){return JSON.parse(t.getItem("store"))},removeStore:function(){t.removeItem("store")}};return o}e.module("app.store").factory("storeData",["$window",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.post(t.baseUrl+"visit/visits/store",o)}function r(o){return e["delete"](t.baseUrl+"visit/visits/"+o)}this.submitVisit=o,this.deleteVisit=r}e.module("app.store").service("userVisitService",["$http","baseUrlService",t])}(window.angular);