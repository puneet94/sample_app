function storeNameCollectionController(){}function storeCategoryCollectionController(e){console.log(e.absUrl())}function storeListController(e,o,t,r){function n(e){var o="store/singleStore/"+e._id+"/"+e.myslug;t.changeBrowserURLMethod(o)}function l(){i.pageNo=i.pageNo+1;var t=o.location||"hyderabad",n="";if(-1!=r.absUrl().indexOf("/category/")){var l=o.category;n="http://localhost:3000/store/storesCollection/category/"+l+"/"+t+"/"+i.pageNo}else if(-1!=r.absUrl().indexOf("/storeName/")){var s=o.storeName;n="http://localhost:3000/store/storesCollection/storeName/"+s+"/"+t+"/"+i.pageNo}else n="http://localhost:3000/store/storesCollection/stores/"+t+"/"+i.pageNo;e.getService(n).then(function(e){for(var o=e.data.docs.length-1;o>=0;o--)i.storesList.push(e.data.docs[o])},function(e){console.log(e)})}function s(){i.getStoresCollection()}var i=this;i.pageNo=0,i.storesList=[],i.getSingleStore=n,i.getStoresCollection=l,s()}function storeController(e){var o=this;console.log("store controller"),o.address={},o.SendData=function(){data={},data.name=o.name,data.city=o.address.city,data.address=o.address,data.category=o.categoryString.split(","),console.log(data.category);var t={headers:{"Content-Type":"application/json"}};e.post("http://localhost:3000/store/store",data,t).then(function(e){console.log(e)},function(e){console.log(e)})}}function AuthController(e,o,t,r,n){function l(){o.changeBrowserURLMethod("/")}function s(){o.changeBrowserURLMethod("/login")}function i(e){t.authenticate(e).then(function(e){n.setUser()})}function a(){t.logout(),n.removeUser(),l()}var c=this;c.toHomePage=l,c.authenticate=i,c.authLogout=a,c.loginPage=s,c.isAuth=t.isAuthenticated(),console.log("*****payload*****"),console.log(t.getPayload()),console.log("*****payload*****"),console.log("header is"+t.isAuthenticated())}function CategoryListController(e,o,t,r,n,l,s){function i(){u.getCategories()}function a(e){var o=l.getUserLocation(),t=e+"-stores-in-"+o,r="/store/storesCollection/category/"+e+"/"+o+"/"+t;s.changeBrowserURLMethod(r)}function c(){u.pageNo=u.pageNo+1;var e="http://localhost:3000/store/categories/"+u.pageNo;o.get(e).then(function(e){angular.forEach(e.data.docs,function(e){u.cateList=r.getUniqueCopyFunction(e.category,u.cateList)})},function(e){})}var u=this;u.cateList=[],u.categLoadMore=!1,u.pageNo=0,u.getCategories=c,u.categoryLinkClicked=a,i()}function homeController(e,o,t,r){}function LeftCtrl(e,o,t){this.close=function(){o("left").close().then(function(){t.debug("close RIGHT is done")})}}function SearchBoxController(e,o,t,r,n,l,s){function i(e){var o=e.userSearchString.split("#&#")[1],t=e.userSearchString.split("#&#")[0],n=e.userSearchString.split("#&#")[2];u.slug=t+"-"+o.split("-")[0]+"s-in-"+n,"store"==o?u.url="/store/storesCollection/storeName/":"store-category"==o?u.url="/store/storesCollection/category/":"product"==o?u.url="/product/singleProductName/":"product-category"==o?u.url="/product/productsCollectionCategory/":"product-subcategory"==o&&(u.url="/product/productsCollectionSubCategory/"),r.changeBrowserURLMethod(u.url+t+"/"+n+"/"+u.slug)}function a(e){s.setUserLocation(e),t.getSearches(e).then(function(e){u.userSearches=[];for(var o=e.data.length-1;o>=0;o--)u.userSearches.push(e.data[o]);console.log(u.userSearches)},function(e){console.log(e)})}function c(){o.getCities().then(function(e){console.log(e),u.cities=[],u.cities2=[],u.cities2=l.getArrayFunction(e.data,"location"),u.cities=n.getUniqueCopyFunction(u.cities2,u.cities),console.log(u.cities)},function(e){u.cities=e})}var u=this;c(),u.userSearches=[],u.selectedItemChange=a,u.userSearchItemChange=i}angular.module("myApp",["ngRoute","ngCookies","ngMessages","satellizer","authModApp","app.common","app.home","app.store","ngMaterial","app.review"]).config(["$routeProvider","$mdThemingProvider",function(e,o){o.theme("default").primaryPalette("amber").accentPalette("orange").warnPalette("blue"),e.otherwise({redirectTo:"/home"})}]),angular.module("app.store",[]).config(["$routeProvider",function(e){e.when("/store",{templateUrl:"app/store/storePost.html",controller:"StoreController",controllerAs:"sm"}).when("/store/storesCollection/storeName/:storeName/:location/:slug?",{templateUrl:"app/store/storesNameCollection.html",controller:"StoreNameCollectionController",controllerAs:"sncc"}).when("/store/storesCollection/category/:category/:location/:slug?",{templateUrl:"app/store/storesCategoryCollection.html",controller:"StoreCategoryCollectionController",controllerAs:"sccc"}).when("/store/singleStore/:storeId/:myslug?/",{templateUrl:"app/store/singleStore.html",controller:"SingleStoreController",controllerAs:"ssc"})}]),function(e){"use strict";function o(e,o,t){e.when("/signup",{templateUrl:"app/authentication/views/register.html",controller:"RegisterCtrl",controllerAs:"rcl"}).when("/logout",{controller:"LogoutCtrl"}).when("/login",{templateUrl:"app/authentication/views/login.html",controller:"LoginController",controllerAs:"login"}),t.loginUrl="http://localhost:3000/authenticate/login",t.signupUrl="http://localhost:3000/authenticate/signup",t.facebook({clientId:"1068203956594250",url:"http://localhost:3000/authenticate/auth/facebook",redirectUri:"http://localhost:3000/"})}e.module("authModApp",["ngCookies","ngRoute","satellizer"]).config(["$routeProvider","$httpProvider","$authProvider",o])}(window.angular),function(e){"use strict";e.module("app.common",[])}(window.angular),function(e){function o(e){e.when("/home",{templateUrl:"app/home/homePage.html",controller:"HomeController",controllerAs:"hm"})}e.module("app.home",[]).config(["$routeProvider",o])}(window.angular),function(e){"use strict";e.module("app.review",[])}(window.angular),angular.module("app.store",[]).config(["$routeProvider",function(e){e.when("/store",{templateUrl:"app/store/storePost.html",controller:"StoreController",controllerAs:"sm"}).when("/store/storesCollection/storeName/:storeName/:location/:slug?",{templateUrl:"app/store/storesNameCollection.html",controller:"StoreNameCollectionController",controllerAs:"sncc"}).when("/store/storesCollection/category/:category/:location/:slug?",{templateUrl:"app/store/storesCategoryCollection.html",controller:"StoreCategoryCollectionController",controllerAs:"sccc"}).when("/store/singleStore/:storeId/:myslug?/",{templateUrl:"app/store/singleStore.html",controller:"SingleStoreController",controllerAs:"ssc"})}]),function(e){"use strict";e.module("app.common",[])}(window.angular),function(e){"use strict";function o(e){this.getCities=function(){var o=this;return o.cityData=void 0,o.cityData=e.get("http://localhost:3000/store/cities"),o.cityData}}function t(e){this.getSearches=function(o){console.log("inside http"),console.log(o);var t=this;t.searchesData=void 0;var r="http://localhost:3000/search/searches/"+o;return t.searchesData=e.get(r),t.searchesData}}function r(e){this.getService=function(o){return e.get(o)}}function n(){this.sortByKey=function(e,o){return e.sort(function(e,t){var r=e[o],n=t[o];return n>r?-1:r>n?1:0})}}function l(e){this.changeBrowserURLMethod=function(o){e.path(o)}}function s(){this.getArrayFunction=function(e,o){for(var t=[],r=e.length-1;r>=0;r--)t.push(e[r][o]);return t}}function i(){this.getUniqueCopyFunction=function(o,t){return e.forEach(o,function(e){-1==t.indexOf(e)&&t.push(e)}),t}}function a(){function e(e){t=e}function o(){return t}var t="";this.setUserLocation=e,this.getUserLocation=o}function c(){this.scrollTo=function(e){function o(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function t(e){for(var o=document.getElementById(e),t=o.offsetTop,r=o;r.offsetParent&&r.offsetParent!=document.body;)r=r.offsetParent,t+=r.offsetTop;return t}var r=o(),n=t(e),l=n>r?n-r:r-n;if(100>l)return void scrollTo(0,n);var s=Math.round(l/100);s>=20&&(s=20);var i=Math.round(l/25),a=n>r?r+i:r-i,c=0;if(n>r)for(var u=r;n>u;u+=i)setTimeout("window.scrollTo(0, "+a+")",c*s),a+=i,a>n&&(a=n),c++;else for(var u=r;u>n;u-=i)setTimeout("window.scrollTo(0, "+a+")",c*s),a-=i,n>a&&(a=n),c++}}e.module("app.common").service("citiesService",["$http",o]).service("getCategoryService",[function(){}]).service("searchService",["$http",t]).service("httpService",["$http",r]).service("sortService",[n]).service("changeBrowserURL",["$location",l]).service("arrayObjectMapper",[s]).service("arrayUniqueCopy",[i]).service("userLocationService",[a]).service("anchorSmoothScroll",[c])}(window.angular),angular.module("app.store").controller("StoreController",storeController).controller("StoreListController",["httpService","$routeParams","changeBrowserURL","$location",storeListController]).controller("StoreNameCollectionController",[storeNameCollectionController]).controller("StoreCategoryCollectionController",["$location",storeCategoryCollectionController]),function(e){"use strict";e.module("authModApp",["ngCookies","ngRoute","satellizer"]).config(function(e,o,t){e.when("/signup",{templateUrl:"app/authentication/views/register.html",controller:"RegisterCtrl",controllerAs:"rcl"}).when("/logout",{controller:"LogoutCtrl"}).when("/login",{templateUrl:"app/authentication/views/login.html",controller:"LoginController",controllerAs:"login"}),t.loginUrl="http://localhost:3000/authenticate/login",t.signupUrl="http://localhost:3000/authenticate/signup",t.facebook({clientId:"1068203956594250",url:"http://localhost:3000/authenticate/auth/facebook",redirectUri:"http://localhost:3000/"})})}(window.angular),function(e){function o(e){e.when("/home",{templateUrl:"app/home/homePage.html",controller:"HomeController",controllerAs:"hm"})}e.module("app.home",[]).config(["$routeProvider",o])}(window.angular),angular.module("app.home").controller("AuthController",["$scope","changeBrowserURL","$auth","$window","userData",AuthController]),function(e){function o(o,t,r,n,l,s,i,a,c){function u(e){return function(){a(e).toggle().then(function(){c.debug("toggle "+e+" is done")})}}function g(){r.changeBrowserURLMethod("/")}function h(e){n.authenticate(e),g()}function p(){n.logout(),g()}function f(t){(s("sm")||s("xs"))&&o.customFullscreen;l.show({controller:"ModalFormLoginController",templateUrl:"app/home/views/modalFormLogin.html",parent:e.element(document.body),targetEvent:t,clickOutsideToClose:!0,fullscreen:d.customFullscreen}).then(function(e){o.status='You said the information was "'+e+'".'},function(){o.status="You cancelled the dialog."}),o.$watch(function(){return s("md")||s("xl")},function(e){d.customFullscreen=e===!0})}var d=this;d.toHomePage=g,d.authenticate=h,d.authLogout=p,d.showAdvanced=f,d.customFullscreen=void 0,d.isAuth=n.isAuthenticated(),d.isOpenLeft=function(){return a("left").isOpen()},d.toggleLeft=u("left")}e.module("app.home").controller("HeaderController",["$scope","userData","changeBrowserURL","$auth","$mdDialog","$mdMedia","$timeout","$mdSidenav","$log",o])}(window.angular),angular.module("app.home").controller("HomeController",["$scope","citiesService","searchService","changeBrowserURL",homeController]).controller("CategoryListController",["$scope","$http","getCategoryService","arrayUniqueCopy","arrayObjectMapper","userLocationService","changeBrowserURL",CategoryListController]),angular.module("app.home").controller("HomeLeftController",["$timeout","$mdSidenav","$log",LeftCtrl]),angular.module("app.home").controller("SearchBoxController",["$scope","citiesService","searchService","changeBrowserURL","arrayUniqueCopy","arrayObjectMapper","userLocationService",SearchBoxController]),function(e){"use strict";e.module("app.review",[])}(window.angular),angular.module("app.store",[]).config(["$routeProvider",function(e){e.when("/store",{templateUrl:"app/store/storePost.html",controller:"StoreController",controllerAs:"sm"}).when("/store/storesCollection/storeName/:storeName/:location/:slug?",{templateUrl:"app/store/storesNameCollection.html",controller:"StoreNameCollectionController",controllerAs:"sncc"}).when("/store/storesCollection/category/:category/:location/:slug?",{templateUrl:"app/store/storesCategoryCollection.html",controller:"StoreCategoryCollectionController",controllerAs:"sccc"}).when("/store/singleStore/:storeId/:myslug?/",{templateUrl:"app/store/singleStore.html",controller:"SingleStoreController",controllerAs:"ssc"})}]),function(e){"use strict";e.module("authModApp",["ngCookies","ngRoute","satellizer"]).config(function(e,o,t){e.when("/signup",{templateUrl:"app/authentication/views/register.html",controller:"RegisterCtrl",controllerAs:"rcl"}).when("/logout",{controller:"LogoutCtrl"}).when("/login",{templateUrl:"app/authentication/views/login.html",controller:"LoginController",controllerAs:"login"}),t.loginUrl="http://localhost:3000/authenticate/login",t.signupUrl="http://localhost:3000/authenticate/signup",t.facebook({clientId:"1068203956594250",url:"http://localhost:3000/authenticate/auth/facebook",redirectUri:"http://localhost:3000/"})})}(window.angular),function(e){"use strict";function o(e,o,t){function r(){e.path("/signup")}function n(){o.login(l.user).then(function(o){e.path("/"),t.setUser(o.data.user),console.log(t.getUser())},function(e){console.log(e)})}var l=this;l.user={},l.submitLogin=n,l.signUp=r,console.log("form thr ontdg"),l.authenticate=function(t){o.authenticate(t),e.path("/")}}e.module("authModApp").controller("LoginController",["$location","$auth","userData",o])}(window.angular),function(e){"use strict";function o(e,o,t,r){function n(){t.signup(l.user).then(function(e){console.log(e),r.path("/"),t.setToken(e.data.token),o.setUser(e.data.user),console.log(o.getUser())},function(e){console.log(e)})}var l=this;l.user={},l.formSubmit=n}e.module("authModApp").controller("RegisterCtrl",["$scope","userData","$auth","$location",o])}(window.angular),function(e){"use strict";function o(e,o,t){var r=e.localStorage,n={},l={setUser:function(e){if(e)r.setItem("user",JSON.stringify(e));else{var n=o.getPayload().sub;n&&t.get("http://localhost:3000/authenticate/user/"+n).then(function(e){r.setItem("user",JSON.stringify(e.data.user))},function(e){console.log(e)})}},getUser:function(){return JSON.parse(r.getItem("user"))},removeUser:function(){n=null,r.removeItem("user")},isUserExists:function(){return l.getUser()?!0:!1}};return l}e.module("authModApp").factory("userData",["$window","$auth","$http",o])}(window.angular),function(e){"use strict";e.module("authModApp").directive("sameAs",function(){return{require:"ngModel",restrict:"EA",link:function(e,o,t,r){function n(o){var n=o===e.$eval(t.sameAs);return r.$setValidity("equal",n),n?o:void 0}console.log(e.$eval(t.sameAs)),r.$parsers.push(n),r.$formatters.push(n),e.$watch(t.sameAs,function(){r.$setViewValue(r.$viewValue)})}}})}(window.angular),function(e){"use strict";function o(e,o,t,r){function n(e){var o=6-e.currentTarget.attributes.value.nodeValue;s.review.rating=o}function l(){r.submitStoreReview(s.review).then(function(e){},function(e){})}var s=this;s.review={},s.user={},s.review.storeId=o.storeId,s.ratingClick=n,t.getUser()?(s.review.userId=t.getUser()._id,s.user.picture=t.getUser().picture,s.user.displayName=t.getUser().displayName):s.review.userId=e.getPayload().sub,s.submitReview=l}e.module("app.review").controller("ReviewSubmitController",["$auth","$routeParams","userData","reviewService",o])}(window.angular),function(e){"use strict";function o(e,o){function t(o){return e.post("http://localhost:3000/review/reviews/store/"+o.storeId,o)}function r(){var t=o.storeId;return e.get("http://localhost:3000/review/reviews/store/"+t)}var n=this;n.submitStoreReview=t,n.getStoreReviews=r}e.module("app.review").service("reviewService",["$http","$routeParams",o])}(window.angular),function(e){"use strict";function o(e,o,t,r,n,l){function s(e){o.hash(e),n.scrollTo(e)}var i=this;if(i.storeData={},i.flowToId=s,l.getStore(r.storeId).then(function(e){i.storeData=e.data,console.log("*******stores*****"),console.log(i.storeData)}),void 0!==o.search().flowto){var a=o.search().flowto;s(a)}}e.module("app.store").controller("SingleStoreController",["$scope","$location","$anchorScroll","$routeParams","anchorSmoothScroll","getSingleStore",o])}(window.angular),function(e){function o(e){console.log(e.absUrl())}e.module("app.store").controller("StoreCategoryCollectionController",["$location",o])}(window.angular),function(e){function o(e,o,t,r){function n(e){var o="store/singleStore/"+e._id+"/"+e.myslug;t.changeBrowserURLMethod(o)}function l(){i.pageNo=i.pageNo+1;var t=o.location||"hyderabad",n="";if(-1!=r.absUrl().indexOf("/category/")){var l=o.category;n="http://localhost:3000/store/storesCollection/category/"+l+"/"+t+"/"+i.pageNo}else if(-1!=r.absUrl().indexOf("/storeName/")){var s=o.storeName;n="http://localhost:3000/store/storesCollection/storeName/"+s+"/"+t+"/"+i.pageNo}else n="http://localhost:3000/store/storesCollection/stores/"+t+"/"+i.pageNo;e.getService(n).then(function(e){for(var o=e.data.docs.length-1;o>=0;o--)i.storesList.push(e.data.docs[o])},function(e){console.log(e)})}function s(){i.getStoresCollection()}var i=this;i.pageNo=0,i.storesList=[],i.getSingleStore=n,i.getStoresCollection=l,s()}e.module("app.store").controller("StoreListController",["httpService","$routeParams","changeBrowserURL","$location",o])}(window.angular),function(e){function o(){}e.module("app.store").controller("StoreController",storeController).controller("StoreListController",["httpService","$routeParams","changeBrowserURL","$location",storeListController]).controller("StoreNameCollectionController",[o]).controller("StoreCategoryCollectionController",["$location",storeCategoryCollectionController])}(window.angular),function(e){"use strict";function o(e,o,t){function r(){s.getStoreReviews()}function n(){t.getStoreReviews().then(function(e){s.reviewList=e.data},function(e){})}function l(e){for(var o=parseInt(e.rating),t=[],r=0;o>r;r++)t.push(r);return t}var s=this;s.activate=r,s.getStoreReviews=n,s.getRating=l,s.activate()}e.module("app.store").controller("StoreReviewListController",["$scope","$routeParams","reviewService",o])}(window.angular),function(e){function o(e,o,t,r,n){function l(e){console.log("inside visit check");for(var o in e.visits){var t=e.visits[o];if(-1!=r.getUser().visits.indexOf(t))return console.log("yes"),!0}return!1}function s(){"visited"===i.visitCheck&&(i.visit.userId=r.getUser()?r.getUser()._id:o.getPayload().sub,n.submitVisit(i.visit).then(function(e){console.log(e)},function(e){console.log(e)}))}var i=this;i.visit={},i.toggleVisitCheck=s,i.visit.storeId=t.storeId,i.userStoreVisited=l,console.log("*****user from visit*****"),console.log(r.getUser())}e.module("app.store").controller("UserStoreVisitController",["$scope","$auth","$routeParams","userData","userVisitService",o])}(window.angular),function(e){"use strict";function o(e){function o(o){return e.get("http://localhost:3000/store/singleStore/"+o)}this.getStore=o}e.module("app.store").service("getSingleStore",["$http",o])}(window.angular),function(e){"use strict";function o(e){function o(o){return e.post("http://localhost:3000/visit/visits/store",o)}this.submitVisit=o}e.module("app.store").service("userVisitService",["$http",o])}(window.angular);